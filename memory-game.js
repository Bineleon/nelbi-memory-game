const bonus = [
  {
    name: 'BONUS, vous avez trouvÃ© toute les pairs',
    img: 'images/arbre_nelbi.jpg',
    description: 'D\'oÃ¹ vient le prÃ©nom Nelbi ? C\'est Ã  l\'origine le nom d\'un arbre sacrÃ© pour une tribu (les Peuls) au Mali. Il y a trois sortes de Nelbi : le Nelbi d\'eau, le Nelbi de terre et le Nelbi de nulle part ðŸ¤“',
    description2:' '

  }
  ]
let cardArray = [
  {
    name: 'Esprit d\'equipe',
    img: 'images/Esprit_d_equipe.jpg',
    description: '\'Il y a plus d\'idÃ©es dans deux tÃªtes que dans une\' ',
    description2:'- Jaques Chirac -'
  }
  ,
  {
    name: 'PersÃ©vÃ©rance',
    img: 'images/Perseverance.jpg',
    description: 'En persÃ©vÃ©rant on arrive Ã  tout.',
    description2:' '
  }
  ,
  {
    name: 'PlongÃ©e',
    img: 'images/plongee.jpg',
    description: 'ðŸ“¸ prise Ã  Hawaii lors d\'un sÃ©jour plongÃ©e.\nTitulaire du PADI Open Water, pratique la plongÃ©e depuis plusieurs annÃ©es. ðŸ³',
    description2:' '
  }
  ,
  {
    name: 'Porte bijoux',
    img: 'images/Porte_bijoux.jpg',
    description: 'Porte-bijou en laiton conÃ§u dans la tÃªte et fabriquÃ©...Ã  la main ðŸ¤Œ',
    description2:' '
  }
  ,
  {
    name: 'Resolution de probleme',
    img: 'images/Resolution_de_probleme.jpg',
    description: 'Quand un problÃ¨me se prÃ©sente, il est transformÃ© en dÃ©fi Ã  relever. ðŸ”§ðŸ§©',
    description2:' '
  }
  ,
  {
    name: 'Polyglotte',
    img: 'images/polyglotte.jpg',
    description: '\'Un esprit enfermÃ© dans la langue est en prison.\' ',
    description2:'- Simone Weil -'
  }
  ,
  {
    name: 'Squelette de baleine',
    img: 'images/Squelette_baleine.jpg',
    description: 'ðŸ“¸ prise lors du soclage d\'un squelette de baleine (actuellement exposÃ© au MusÃ©e des Confluences, Ã  Lyon)',
    description2:' '
  }
  ,
  {
    name: 'VÃ©lo',
    img: 'images/Velo.jpg',
    description: 'Le vÃ©lo, c\'est tout les jours, qu\'il vente ou qu\'il pleuve, court trajet, long trajet .',
    description2:'ðŸš´ðŸ¼â€â™€ï¸'
  }
  ,
  {
    name: 'Yoga',
    img: 'images/Yoga.jpg',
    description: 'Titulaire d\'un Teacher Training de 75H et pratique le yoga plusieurs fois par semaine ðŸ§˜â€â™€ï¸ðŸ¤¸â€â™€ï¸',
    description2:' '
  }
  ,
  {
    name: 'Humour & 2nd degrÃ©',
    img: 'images/Humour.jpg',
    description: 'ERREUR 500',
    description2:' '
  }
  ,
]

let listArray = [
    {
      name: 'Esprit d\'Ã©quipe',
      img: 'images/esprit_d_equipe.jpg',
      description: '\'Il y a plus d\'idÃ©es dans deux tÃªtes que dans une\' ',
      description2:'- Jaques Chirac -'
    }
    ,
    {
      name: 'PersÃ©vÃ©rance',
      img: 'images/perseverance.jpg',
      description: 'En persÃ©vÃ©rant, on arrive Ã  tout ! ðŸ¤“ ',
      description2:' '
    }
    ,
    {
      name: 'PlongÃ©e',
      img: 'images/plongee.jpg',
      description: 'ðŸ“¸ prise Ã  Hawaii lors d\'un sÃ©jour plongÃ©e.',
      description2:'Titulaire du PADI Open Water, pratique la plongÃ©e depuis plusieurs annÃ©es. ðŸ³'
    }
    ,
    {
      name: 'Porte bijoux',
      img: 'images/porte_bijoux.jpg',
      description: 'Porte-bijou en laiton conÃ§u dans la tÃªte, et fabriquÃ©...Ã  la main ðŸ¤Œ',
      description2:' '
    }
    ,
    {
      name: 'RÃ©solution de problÃ¨me',
      img: 'images/resolution_de_probleme.jpg',
      description: 'Quand un problÃ¨me se prÃ©sente, il est transformÃ© en dÃ©fi Ã  relever. ðŸ”§ ðŸ§©',
      description2:' '
    }
    ,
    {
      name: 'Sens de l\'optimisation',
      img: 'images/sens_de_loptimisation.jpg',
      description: 'Toujours Ã  la recherche de la meilleure solution, l\'optimisation est mon leitmotiv. ðŸ’ª ðŸš€',
      description2:' '
    }
    ,
    {
      name: 'Squelette de baleine',
      img: 'images/squelette_baleine.jpg',
      description: 'ðŸ“¸ prise lors du soclage d\'un squelette de baleine (actuellement exposÃ© au MusÃ©e des Confluences, Ã  Lyon)',
      description2:' '
    }
    ,
    {
      name: 'VÃ©lo',
      img: 'images/velo.jpg',
      description: 'Le vÃ©lo, c\'est tout les jours, qu\'il vente ou qu\'il pleuve, court trajet, long trajet .\nðŸš´ðŸ¼â€â™€ï¸',
      description2:' '
    }
    ,
    {
      name: 'Yoga',
      img: 'images/yoga.jpg',
      description: 'Titulaire d\'un Teacher Training de 75H et pratique le yoga plusieurs fois par semaine ðŸ§˜â€â™€ï¸ðŸ¤¸â€â™€ï¸',
      description2:' '
    }
    ,
    {
      name: 'Humour & 2nd degrÃ©',
      img: 'images/humour.jpg',
      description: 'ERREUR 500',
      description2:' '
    }
    ,
    {
      name: 'Louvre Abu Dhabi',
      img: 'images/LAD.jpg',
      description: 'ðŸ“¸ du musÃ©e du Louvre Abu Dhabi prise lors d\'un chantier de soclage pour l\'exposition \'Dragons et phÃ©onix\' ',
      description2:' '
    }
    ,
    {
      name: 'Montagne',
      img: 'images/montagne.jpg',
      description: 'ðŸ“¸ prise en randonnÃ©e dans les PyrÃ©nÃ©es Oriantales.\nLa montagne, Ã§a vous gagne ðŸ¤“',
      description2:' '
    }
    ,
    {
      name: 'Soudure',
      img: 'images/soudure.jpg',
      description: 'Soudure de prÃ©cision au PUK pour la fabrication de petit soclage',
      description2:' '
    }
    ,

    {
      name: 'Aventure & Voyages',
      img: 'images/vallee_des_temples.jpg',
      description: 'On aime l\'aventure et les voyages !\nðŸ“¸prise Ã  la vallÃ©e des temples en Sicile',
      description2:' '
    }
    ,
    {
      name: 'AÃ¯nu',
      img: 'images/ainu.jpg',
      description: 'Article paru dans le magazine \'The Good Life magazine\', ðŸ“¸ prise au MusÃ©e Carnavalet lors de l\â€™installation de la collection permanente.',
      description2:' '
    }
    ,
    {
      name: 'AutoCAD',
      img: 'images/autoCAD.jpg',
      description: 'Plan d\'un meuble Ã  rideau coulissant dessinÃ© sur le logiciel de CAO/DAO Autocad',
      description2:' '
    }
    ,
    {
      name: 'Banjo',
      img: 'images/banjo.jpg',
      description: 'Adore la musique (ðŸŽ¶Ã©lectronique, rock, jazz,...ðŸŽ¶)',
      description2:' '
    }
    ,
    {
      name: 'Dessin bureau Art DÃ©co',
      img: 'images/dessin_bureau.jpg',
      description: 'Apprentissage, pour les diplÃ´mes d\'Ã©benisterie, du dessin, peinture et perspective ainsi que l\'histoire de l\'art et des styles.\nDessin au feutre et aquarelle d\'un \'Bureau de dames\'\nstyle Art DÃ©co.',
      description2:' '
    }
    ,
    {
      name: 'Polyglotte',
      img: 'images/polyglotte.jpg',
      description: '\'Un esprit enfermÃ© dans la langue est en prison.\'\n\n~ Simone Weil',
      description2:' '

    }
  ]

cardArray = [...cardArray, ...cardArray]

cardArray.sort(() => 0.5 - Math.random());

const modal = document.querySelector('#modal');
const modalImg = document.querySelector('#modal-img');
const description = document.querySelector('#modal-description');
const description2 = document.querySelector('#modal-description2');
const closeBtn = document.querySelector('#close-btn');
const gridDisplay = document.querySelector('#memory-game');
const cardList = document.querySelector('.buttons');
let cardsChosen = [];
let cardsChosenIds = [];
const cardsWon = [];

if (closeBtn) {
  closeBtn.addEventListener('click', function () {
    modal.classList.remove('open');
  });
}


function createBoard() {
  for (let i = 0; i < cardArray.length; i++) {
    const card = document.createElement('img');
    card.setAttribute('src', 'images/back.png');
    card.setAttribute('data-id', i);
    gridDisplay.appendChild(card);
    card.addEventListener('click', flipCard);
  }
}

createBoard();

function checkForMatch() {
  const cards = document.querySelectorAll('img');
  const optionOneId = cardsChosenIds[0];
  const optionTwoId = cardsChosenIds[1];

  if (optionOneId == optionTwoId) {
    alert('Vous avez cliquÃ© sur la mÃªme carte !');
  }
  if (cardsChosen[0] == cardsChosen[1]) {
    const card = cardArray[optionOneId];
    document.querySelector('#modal-title').textContent = card.name;
    document.querySelector('#modal-description').textContent = card.description;
    document.querySelector('#modal-description2').textContent = card.description2;
    document.querySelector('#modal-img').src = card.img;
    modalImg.src = card.img;
    modal.classList.add('open');

    cards[optionOneId].setAttribute('src', 'images/white.png');
    cards[optionTwoId].setAttribute('src', 'images/white.png');
    cards[optionOneId].removeEventListener('click', flipCard);
    cards[optionTwoId].removeEventListener('click', flipCard);
    cardsWon.push(cardsChosen);
  } else {
    cards[optionOneId].setAttribute('src', 'images/back.png');
    cards[optionTwoId].setAttribute('src', 'images/back.png');
  }
  cardsChosen = [];
  cardsChosenIds = [];

  if (cardsWon.length == cardArray.length / 2) {
    document.querySelector('#modal-title').textContent = bonus[0].name;
    document.querySelector('#modal-description').textContent = bonus[0].description;
    document.querySelector('#modal-img').src = bonus[0].img;
    modalImg.src = bonus[0].img;
    modal.classList.add('open');
  }
}

function flipCard() {
  const cardId = this.getAttribute('data-id');

  cardsChosen.push(cardArray[cardId].name);
  cardsChosenIds.push(cardId);
  this.setAttribute('src', cardArray[cardId].img);
  if (cardsChosen.length === 2) {
    setTimeout(checkForMatch, 1000);
  }
}

listArray.forEach((card) => {
  const listItem = document.createElement('button');
  listItem.textContent = card.name;
  const buttons = cardList.appendChild(listItem);
  buttons.classList.add('button');

  // Add a click event listener to each list item to open the modal with the corresponding card
  listItem.addEventListener('click', () => {
    openModal(card.img, card.name, card.description, card.description2);
  });
});

// Function to open the modal with the specified card information
function openModal(imgSrc, title, description, description2) {
  const modal = document.querySelector('#modal');
  const modalImg = document.querySelector('#modal-img');
  const modalTitle = document.querySelector('#modal-title');
  const modalDescription = document.querySelector('#modal-description');
  const modalDescription2 = document.querySelector('#modal-description2');

  modalImg.src = imgSrc;
  modalTitle.textContent = title;
  modalDescription.textContent = description;
  modalDescription2.textContent = description2;

  modal.classList.add('open');
}
